# fss-0005 iki-0002

settings:
  load_build yes
  fail exit

  environment LD_LIBRARY_PATH

main:
  build settings
  build settings-tests

  if defined environment LD_LIBRARY_PATH
    define LD_LIBRARY_PATH build/libraries/shared:define:"LD_LIBRARY_PATH"
  else
    define LD_LIBRARY_PATH build/libraries/shared

  if exists build/programs/shared/test-f_type_array
    shell build/programs/shared/test-f_type_array

  if exists build/programs/static/test-f_type_array
    shell build/programs/static/test-f_type_array

  if not exists build/programs/shared/test-f_type_array
  and not exists build/programs/static/test-f_type_array
    operate not_created

not_created:
  print
  print context:"error"Failed to test due to being unable to find either a shared or static test binary to perform tests. context:"error"

  exit failure
